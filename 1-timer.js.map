{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst datetimePicker = flatpickr('#datetime-picker', {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const userSelectedDate = selectedDates[0];\n    const currentDate = new Date();\n\n    if (userSelectedDate < currentDate) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n      });\n      document.getElementById('startBtn').disabled = true;\n    } else {\n      document.getElementById('startBtn').disabled = false;\n    }\n  },\n});\n\nfunction addLeadingZero(value) {\n  return String(value).padStart(2, '0');\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day);\n  const hours = Math.floor((ms % day) / hour);\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const startButton = document.querySelector('[data-start]');\n  const datetimePicker = document.querySelector('#datetime-picker');\n\n  if (startButton && datetimePicker) {\n    flatpickr(datetimePicker, {\n      enableTime: true,\n      time_24hr: true,\n      defaultDate: new Date(),\n      minuteIncrement: 1,\n      onClose(selectedDates) {\n        const userSelectedDate = selectedDates[0];\n        if (userSelectedDate < new Date()) {\n          iziToast.error({\n            message: 'Please choose a date in the future',\n          });\n          startButton.disabled = true;\n        } else {\n          startButton.disabled = false;\n        }\n      },\n    });\n\n    startButton.addEventListener('click', function () {\n      const selectedDate = datetimePicker.value;\n      const timerTarget = new Date(selectedDate).getTime();\n      const timerInterval = setInterval(function () {\n        const currentTime = new Date().getTime();\n        const distance = timerTarget - currentTime;\n\n        if (distance < 0) {\n          clearInterval(timerInterval);\n          document.querySelector('[data-days]').textContent = '00';\n          document.querySelector('[data-hours]').textContent = '00';\n          document.querySelector('[data-minutes]').textContent = '00';\n          document.querySelector('[data-seconds]').textContent = '00';\n          iziToast.success({\n            message: 'Timer completed!',\n          });\n        } else {\n          const days = Math.floor(distance / (1000 * 60 * 60 * 24));\n          const hours = Math.floor(\n            (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)\n          );\n          const minutes = Math.floor(\n            (distance % (1000 * 60 * 60)) / (1000 * 60)\n          );\n          const seconds = Math.floor((distance % (1000 * 60)) / 1000);\n\n          document.querySelector('[data-days]').textContent = String(\n            days\n          ).padStart(2, '0');\n          document.querySelector('[data-hours]').textContent = String(\n            hours\n          ).padStart(2, '0');\n          document.querySelector('[data-minutes]').textContent = String(\n            minutes\n          ).padStart(2, '0');\n          document.querySelector('[data-seconds]').textContent = String(\n            seconds\n          ).padStart(2, '0');\n        }\n      }, 1000);\n    });\n  } else {\n    console.error('Не знайдено елементи для ініціалізації');\n  }\n});\n"],"names":["flatpickr","selectedDates","iziToast","startButton","datetimePicker","selectedDate","timerTarget","timerInterval","currentTime","distance","days","hours","minutes","seconds"],"mappings":"2FAKuBA,EAAU,mBAAoB,CACnD,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACIA,EAAc,CAAC,EACpB,IAAI,MAGtBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACjB,CAAO,EACD,SAAS,eAAe,UAAU,EAAE,SAAW,IAE/C,SAAS,eAAe,UAAU,EAAE,SAAW,EAElD,CACH,CAAC,EAoBD,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAiB,SAAS,cAAc,kBAAkB,EAE5DD,GAAeC,GACjBJ,EAAUI,EAAgB,CACxB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQH,EAAe,CACIA,EAAc,CAAC,EACjB,IAAI,MACzBC,EAAS,MAAM,CACb,QAAS,oCACrB,CAAW,EACDC,EAAY,SAAW,IAEvBA,EAAY,SAAW,EAE1B,CACP,CAAK,EAEDA,EAAY,iBAAiB,QAAS,UAAY,CAChD,MAAME,EAAeD,EAAe,MAC9BE,EAAc,IAAI,KAAKD,CAAY,EAAE,QAAO,EAC5CE,EAAgB,YAAY,UAAY,CAC5C,MAAMC,EAAc,IAAI,KAAM,EAAC,QAAO,EAChCC,EAAWH,EAAcE,EAE/B,GAAIC,EAAW,EACb,cAAcF,CAAa,EAC3B,SAAS,cAAc,aAAa,EAAE,YAAc,KACpD,SAAS,cAAc,cAAc,EAAE,YAAc,KACrD,SAAS,cAAc,gBAAgB,EAAE,YAAc,KACvD,SAAS,cAAc,gBAAgB,EAAE,YAAc,KACvDL,EAAS,QAAQ,CACf,QAAS,kBACrB,CAAW,MACI,CACL,MAAMQ,EAAO,KAAK,MAAMD,EAAY,KAAoB,EAClDE,EAAQ,KAAK,MAChBF,GAAY,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAC9D,EACgBG,EAAU,KAAK,MAClBH,GAAY,IAAO,GAAK,KAAQ,IAAO,GACpD,EACgBI,EAAU,KAAK,MAAOJ,GAAY,IAAO,IAAO,GAAI,EAE1D,SAAS,cAAc,aAAa,EAAE,YAAc,OAClDC,CACZ,EAAY,SAAS,EAAG,GAAG,EACjB,SAAS,cAAc,cAAc,EAAE,YAAc,OACnDC,CACZ,EAAY,SAAS,EAAG,GAAG,EACjB,SAAS,cAAc,gBAAgB,EAAE,YAAc,OACrDC,CACZ,EAAY,SAAS,EAAG,GAAG,EACjB,SAAS,cAAc,gBAAgB,EAAE,YAAc,OACrDC,CACZ,EAAY,SAAS,EAAG,GAAG,CAClB,CACF,EAAE,GAAI,CACb,CAAK,GAED,QAAQ,MAAM,wCAAwC,CAE1D,CAAC"}